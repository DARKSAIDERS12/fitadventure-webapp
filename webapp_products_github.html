<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ë–∞–∑–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ FitAdventure</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--tg-theme-bg-color, #ffffff);
            color: var(--tg-theme-text-color, #000000);
            padding: 16px;
        }

        .header {
            text-align: center;
            margin-bottom: 20px;
            padding: 16px;
            background: var(--tg-theme-secondary-bg-color, #f0f0f0);
            border-radius: 12px;
        }

        .header h1 {
            font-size: 24px;
            margin-bottom: 8px;
            color: var(--tg-theme-text-color, #000000);
        }

        .search-container {
            margin-bottom: 20px;
        }

        .search-input {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid var(--tg-theme-hint-color, #999999);
            border-radius: 8px;
            font-size: 16px;
            background: var(--tg-theme-bg-color, #ffffff);
            color: var(--tg-theme-text-color, #000000);
        }

        .categories {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 12px;
            margin-bottom: 20px;
        }

        .category-btn {
            padding: 16px 12px;
            border: none;
            border-radius: 12px;
            background: var(--tg-theme-button-color, #2481cc);
            color: var(--tg-theme-button-text-color, #ffffff);
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
        }

        .category-btn:hover {
            opacity: 0.8;
        }

        .products-container {
            display: none;
        }

        .product-card {
            background: var(--tg-theme-secondary-bg-color, #f0f0f0);
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 12px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .product-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .product-name {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 8px;
            color: var(--tg-theme-text-color, #000000);
        }

        .product-info {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 8px;
            font-size: 14px;
        }

        .back-btn {
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            background: var(--tg-theme-button-color, #2481cc);
            color: var(--tg-theme-button-text-color, #ffffff);
            font-size: 16px;
            cursor: pointer;
            margin-bottom: 20px;
        }

        .loading {
            text-align: center;
            padding: 40px;
            color: var(--tg-theme-hint-color, #999999);
        }
        /* –°—Ç–∏–ª–∏ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –ø–∏—Ç–∞–Ω–∏—è */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
        }

        .modal-content {
            background-color: var(--tg-theme-bg-color, #ffffff);
            margin: 5% auto;
            padding: 20px;
            border-radius: 12px;
            width: 90%;
            max-width: 500px;
            max-height: 80vh;
            overflow-y: auto;
        }

        .close {
            color: var(--tg-theme-hint-color, #999999);
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }

        .close:hover {
            color: var(--tg-theme-text-color, #000000);
        }

        .meal-section {
            margin-bottom: 20px;
            padding: 15px;
            background: var(--tg-theme-secondary-bg-color, #f0f0f0);
            border-radius: 8px;
        }

        .meal-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 10px;
            color: var(--tg-theme-text-color, #000000);
        }

        .product-item {
            background: var(--tg-theme-bg-color, #ffffff);
            padding: 10px;
            margin: 5px 0;
            border-radius: 6px;
            border: 1px solid var(--tg-theme-hint-color, #e0e0e0);
        }

        .template-btn {
            background: var(--tg-theme-button-color, #2481cc);
            color: var(--tg-theme-button-text-color, #ffffff);
            border: none;
            padding: 10px 15px;
            margin: 5px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
        }

        .template-btn:hover {
            opacity: 0.8;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üçé –ë–∞–∑–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤</h1>
        <p>FitAdventure - –∫–∞–ª–æ—Ä–∏–π–Ω–æ—Å—Ç—å –∏ –ë–ñ–£</p>
        <button class="category-btn" onclick="openMealPlanner()" style="margin-top: 10px;">üìÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –ø–∏—Ç–∞–Ω–∏—è</button>
    </div>

    <div class="search-container">
        <input type="text" class="search-input" placeholder="üîç –ü–æ–∏—Å–∫ –ø—Ä–æ–¥—É–∫—Ç–∞..." id="searchInput">
    </div>

    <div class="categories" id="categories">
        <button class="category-btn" onclick="showCategory('—Å–ª–æ–∂–Ω—ã–µ_—É–≥–ª–µ–≤–æ–¥—ã')">üåæ –°–ª–æ–∂–Ω—ã–µ —É–≥–ª–µ–≤–æ–¥—ã</button>
        <button class="category-btn" onclick="showCategory('–ø—Ä–æ—Å—Ç—ã–µ_—É–≥–ª–µ–≤–æ–¥—ã')">‚ö° –ü—Ä–æ—Å—Ç—ã–µ —É–≥–ª–µ–≤–æ–¥—ã</button>
        <button class="category-btn" onclick="showCategory('–±–µ–ª–∫–∏')">ü•© –ë–µ–ª–∫–∏</button>
        <button class="category-btn" onclick="showCategory('–Ω–µ–Ω–∞—Å—ã—â–µ–Ω–Ω—ã–µ_–∂–∏—Ä—ã')">ü´í –ù–µ–Ω–∞—Å—ã—â–µ–Ω–Ω—ã–µ –∂–∏—Ä—ã</button>
        <button class="category-btn" onclick="showCategory('–Ω–∞—Å—ã—â–µ–Ω–Ω—ã–µ_–∂–∏—Ä—ã')">üßà –ù–∞—Å—ã—â–µ–Ω–Ω—ã–µ –∂–∏—Ä—ã</button>
        <button class="category-btn" onclick="showCategory('–∫–ª–µ—Ç—á–∞—Ç–∫–∞')">üåø –ö–ª–µ—Ç—á–∞—Ç–∫–∞</button>
    </div>

    <div class="products-container" id="productsContainer">
        <button class="back-btn" onclick="showCategories()">üîô –ù–∞–∑–∞–¥ –∫ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º</button>
        <div id="productsList"></div>
    </div>

    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram Web App
        let tg = window.Telegram.WebApp;
        tg.ready();
        tg.expand();

        // –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤
        const productsDatabase = {
            "—Å–ª–æ–∂–Ω—ã–µ_—É–≥–ª–µ–≤–æ–¥—ã": {
                "–æ–≤—Å—è–Ω–∫–∞": {"–∫–∞–ª–æ—Ä–∏–∏": 389, "–±–µ–ª–∫–∏": 16.9, "–∂–∏—Ä—ã": 6.9, "—É–≥–ª–µ–≤–æ–¥—ã": 66, "–∫–ª–µ—Ç—á–∞—Ç–∫–∞": 10.6, "–æ–ø–∏—Å–∞–Ω–∏–µ": "–ú–µ–¥–ª–µ–Ω–Ω—ã–µ —É–≥–ª–µ–≤–æ–¥—ã, –Ω–∞–¥–æ–ª–≥–æ –Ω–∞—Å—ã—â–∞—é—Ç"},
                "–≥—Ä–µ—á–∫–∞": {"–∫–∞–ª–æ—Ä–∏–∏": 343, "–±–µ–ª–∫–∏": 13, "–∂–∏—Ä—ã": 3.4, "—É–≥–ª–µ–≤–æ–¥—ã": 72, "–∫–ª–µ—Ç—á–∞—Ç–∫–∞": 10, "–æ–ø–∏—Å–∞–Ω–∏–µ": "–ë–æ–≥–∞—Ç–∞ –∂–µ–ª–µ–∑–æ–º, –∏–¥–µ–∞–ª—å–Ω–∞ –¥–ª—è –ø–æ—Ö—É–¥–µ–Ω–∏—è"},
                "–∫–∏–Ω–æ–∞": {"–∫–∞–ª–æ—Ä–∏–∏": 120, "–±–µ–ª–∫–∏": 4.4, "–∂–∏—Ä—ã": 1.9, "—É–≥–ª–µ–≤–æ–¥—ã": 22, "–∫–ª–µ—Ç—á–∞—Ç–∫–∞": 2.8, "–æ–ø–∏—Å–∞–Ω–∏–µ": "–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –±–µ–ª–æ–∫, –Ω–∏–∑–∫–∞—è –∫–∞–ª–æ—Ä–∏–π–Ω–æ—Å—Ç—å"},
                "–±—É–ª–≥—É—Ä": {"–∫–∞–ª–æ—Ä–∏–∏": 342, "–±–µ–ª–∫–∏": 12, "–∂–∏—Ä—ã": 1.3, "—É–≥–ª–µ–≤–æ–¥—ã": 76, "–∫–ª–µ—Ç—á–∞—Ç–∫–∞": 8, "–æ–ø–∏—Å–∞–Ω–∏–µ": "–ë—ã—Å—Ç—Ä–æ –≥–æ—Ç–æ–≤–∏—Ç—Å—è, –º–Ω–æ–≥–æ –∫–ª–µ—Ç—á–∞—Ç–∫–∏"},
                "—Ä–∏—Å –±—É—Ä—ã–π": {"–∫–∞–ª–æ—Ä–∏–∏": 337, "–±–µ–ª–∫–∏": 7.4, "–∂–∏—Ä—ã": 2.2, "—É–≥–ª–µ–≤–æ–¥—ã": 73, "–∫–ª–µ—Ç—á–∞—Ç–∫–∞": 3.5, "–æ–ø–∏—Å–∞–Ω–∏–µ": "–ù–µ—à–ª–∏—Ñ–æ–≤–∞–Ω–Ω—ã–π —Ä–∏—Å —Å –æ–±–æ–ª–æ—á–∫–æ–π"}
            },
            "–ø—Ä–æ—Å—Ç—ã–µ_—É–≥–ª–µ–≤–æ–¥—ã": {
                "–º–µ–¥": {"–∫–∞–ª–æ—Ä–∏–∏": 304, "–±–µ–ª–∫–∏": 0.3, "–∂–∏—Ä—ã": 0, "—É–≥–ª–µ–≤–æ–¥—ã": 82, "–∫–ª–µ—Ç—á–∞—Ç–∫–∞": 0, "–æ–ø–∏—Å–∞–Ω–∏–µ": "–ù–∞—Ç—É—Ä–∞–ª—å–Ω—ã–π –ø–æ–¥—Å–ª–∞—Å—Ç–∏—Ç–µ–ª—å"},
                "–±–∞–Ω–∞–Ω": {"–∫–∞–ª–æ—Ä–∏–∏": 89, "–±–µ–ª–∫–∏": 1.1, "–∂–∏—Ä—ã": 0.3, "—É–≥–ª–µ–≤–æ–¥—ã": 23, "–∫–ª–µ—Ç—á–∞—Ç–∫–∞": 2.6, "–æ–ø–∏—Å–∞–Ω–∏–µ": "–ë—ã—Å—Ç—Ä–∞—è —ç–Ω–µ—Ä–≥–∏—è, –º–Ω–æ–≥–æ –∫–∞–ª–∏—è"},
                "—è–±–ª–æ–∫–æ": {"–∫–∞–ª–æ—Ä–∏–∏": 52, "–±–µ–ª–∫–∏": 0.3, "–∂–∏—Ä—ã": 0.2, "—É–≥–ª–µ–≤–æ–¥—ã": 14, "–∫–ª–µ—Ç—á–∞—Ç–∫–∞": 2.4, "–æ–ø–∏—Å–∞–Ω–∏–µ": "–ù–∏–∑–∫–æ–∫–∞–ª–æ—Ä–∏–π–Ω—ã–π —Ñ—Ä—É–∫—Ç"},
                "–≤–∏–Ω–æ–≥—Ä–∞–¥": {"–∫–∞–ª–æ—Ä–∏–∏": 62, "–±–µ–ª–∫–∏": 0.6, "–∂–∏—Ä—ã": 0.2, "—É–≥–ª–µ–≤–æ–¥—ã": 16, "–∫–ª–µ—Ç—á–∞—Ç–∫–∞": 0.9, "–æ–ø–∏—Å–∞–Ω–∏–µ": "–°–ª–∞–¥–∫–∏–π –∏ –æ—Å–≤–µ–∂–∞—é—â–∏–π"}
            },
            "–±–µ–ª–∫–∏": {
                "–∫—É—Ä–∏–Ω–∞—è –≥—Ä—É–¥–∫–∞": {"–∫–∞–ª–æ—Ä–∏–∏": 165, "–±–µ–ª–∫–∏": 31, "–∂–∏—Ä—ã": 3.6, "—É–≥–ª–µ–≤–æ–¥—ã": 0, "–∫–ª–µ—Ç—á–∞—Ç–∫–∞": 0, "–æ–ø–∏—Å–∞–Ω–∏–µ": "–î–∏–µ—Ç–∏—á–µ—Å–∫–æ–µ –º—è—Å–æ"},
                "–∏–Ω–¥–µ–π–∫–∞ –≥—Ä—É–¥–∫–∞": {"–∫–∞–ª–æ—Ä–∏–∏": 157, "–±–µ–ª–∫–∏": 29, "–∂–∏—Ä—ã": 3.6, "—É–≥–ª–µ–≤–æ–¥—ã": 0, "–∫–ª–µ—Ç—á–∞—Ç–∫–∞": 0, "–æ–ø–∏—Å–∞–Ω–∏–µ": "–ü–æ—Å—Ç–Ω–æ–µ –º—è—Å–æ –∏–Ω–¥–µ–π–∫–∏"},
                "—è–∏—á–Ω—ã–µ –±–µ–ª–∫–∏": {"–∫–∞–ª–æ—Ä–∏–∏": 52, "–±–µ–ª–∫–∏": 11, "–∂–∏—Ä—ã": 0.2, "—É–≥–ª–µ–≤–æ–¥—ã": 0.7, "–∫–ª–µ—Ç—á–∞—Ç–∫–∞": 0, "–æ–ø–∏—Å–∞–Ω–∏–µ": "–ß–∏—Å—Ç—ã–π –±–µ–ª–æ–∫ –±–µ–∑ –∂–∏—Ä–∞"},
                "—Ç–≤–æ—Ä–æ–≥ –æ–±–µ–∑–∂–∏—Ä–µ–Ω–Ω—ã–π": {"–∫–∞–ª–æ—Ä–∏–∏": 88, "–±–µ–ª–∫–∏": 18, "–∂–∏—Ä—ã": 0.6, "—É–≥–ª–µ–≤–æ–¥—ã": 1.8, "–∫–ª–µ—Ç—á–∞—Ç–∫–∞": 0, "–æ–ø–∏—Å–∞–Ω–∏–µ": "–ú–Ω–æ–≥–æ –±–µ–ª–∫–∞, –º–∞–ª–æ –∂–∏—Ä–∞"},
                "—Ä—ã–±–∞ –±–µ–ª–∞—è": {"–∫–∞–ª–æ—Ä–∏–∏": 72, "–±–µ–ª–∫–∏": 16, "–∂–∏—Ä—ã": 0.9, "—É–≥–ª–µ–≤–æ–¥—ã": 0, "–∫–ª–µ—Ç—á–∞—Ç–∫–∞": 0, "–æ–ø–∏—Å–∞–Ω–∏–µ": "–ü–æ—Å—Ç–Ω–∞—è —Ä—ã–±–∞"}
            },
            "–Ω–µ–Ω–∞—Å—ã—â–µ–Ω–Ω—ã–µ_–∂–∏—Ä—ã": {
                "–∞–≤–æ–∫–∞–¥–æ": {"–∫–∞–ª–æ—Ä–∏–∏": 160, "–±–µ–ª–∫–∏": 2, "–∂–∏—Ä—ã": 15, "—É–≥–ª–µ–≤–æ–¥—ã": 9, "–∫–ª–µ—Ç—á–∞—Ç–∫–∞": 6.7, "–æ–ø–∏—Å–∞–Ω–∏–µ": "–ü–æ–ª–µ–∑–Ω—ã–µ –∂–∏—Ä—ã"},
                "–æ–ª–∏–≤–∫–æ–≤–æ–µ –º–∞—Å–ª–æ": {"–∫–∞–ª–æ—Ä–∏–∏": 884, "–±–µ–ª–∫–∏": 0, "–∂–∏—Ä—ã": 100, "—É–≥–ª–µ–≤–æ–¥—ã": 0, "–∫–ª–µ—Ç—á–∞—Ç–∫–∞": 0, "–æ–ø–∏—Å–∞–Ω–∏–µ": "–ú–æ–Ω–æ–Ω–µ–Ω–∞—Å—ã—â–µ–Ω–Ω—ã–µ –∂–∏—Ä—ã"},
                "–æ—Ä–µ—Ö–∏ –≥—Ä–µ—Ü–∫–∏–µ": {"–∫–∞–ª–æ—Ä–∏–∏": 654, "–±–µ–ª–∫–∏": 15, "–∂–∏—Ä—ã": 65, "—É–≥–ª–µ–≤–æ–¥—ã": 14, "–∫–ª–µ—Ç—á–∞—Ç–∫–∞": 6.7, "–æ–ø–∏—Å–∞–Ω–∏–µ": "–û–º–µ–≥–∞-3 –∂–∏—Ä—ã"},
                "–º–∏–Ω–¥–∞–ª—å": {"–∫–∞–ª–æ—Ä–∏–∏": 579, "–±–µ–ª–∫–∏": 21, "–∂–∏—Ä—ã": 50, "—É–≥–ª–µ–≤–æ–¥—ã": 22, "–∫–ª–µ—Ç—á–∞—Ç–∫–∞": 12.5, "–æ–ø–∏—Å–∞–Ω–∏–µ": "–í–∏—Ç–∞–º–∏–Ω –ï"}
            },
            "–Ω–∞—Å—ã—â–µ–Ω–Ω—ã–µ_–∂–∏—Ä—ã": {
                "—Å–ª–∏–≤–æ—á–Ω–æ–µ –º–∞—Å–ª–æ": {"–∫–∞–ª–æ—Ä–∏–∏": 717, "–±–µ–ª–∫–∏": 0.9, "–∂–∏—Ä—ã": 81, "—É–≥–ª–µ–≤–æ–¥—ã": 0.1, "–∫–ª–µ—Ç—á–∞—Ç–∫–∞": 0, "–æ–ø–∏—Å–∞–Ω–∏–µ": "–ñ–∏–≤–æ—Ç–Ω—ã–µ –∂–∏—Ä—ã"},
                "—Å—ã—Ä —Ç–≤–µ—Ä–¥—ã–π": {"–∫–∞–ª–æ—Ä–∏–∏": 350, "–±–µ–ª–∫–∏": 25, "–∂–∏—Ä—ã": 27, "—É–≥–ª–µ–≤–æ–¥—ã": 0, "–∫–ª–µ—Ç—á–∞—Ç–∫–∞": 0, "–æ–ø–∏—Å–∞–Ω–∏–µ": "–ö–∞–ª—å—Ü–∏–π –∏ –±–µ–ª–æ–∫"}
            },
            "–∫–ª–µ—Ç—á–∞—Ç–∫–∞": {
                "–±—Ä–æ–∫–∫–æ–ª–∏": {"–∫–∞–ª–æ—Ä–∏–∏": 34, "–±–µ–ª–∫–∏": 2.8, "–∂–∏—Ä—ã": 0.4, "—É–≥–ª–µ–≤–æ–¥—ã": 7, "–∫–ª–µ—Ç—á–∞—Ç–∫–∞": 2.6, "–æ–ø–∏—Å–∞–Ω–∏–µ": "–í–∏—Ç–∞–º–∏–Ω –° –∏ –∫–ª–µ—Ç—á–∞—Ç–∫–∞"},
                "—Ü–≤–µ—Ç–Ω–∞—è –∫–∞–ø—É—Å—Ç–∞": {"–∫–∞–ª–æ—Ä–∏–∏": 25, "–±–µ–ª–∫–∏": 1.9, "–∂–∏—Ä—ã": 0.3, "—É–≥–ª–µ–≤–æ–¥—ã": 5, "–∫–ª–µ—Ç—á–∞—Ç–∫–∞": 2.5, "–æ–ø–∏—Å–∞–Ω–∏–µ": "–ù–∏–∑–∫–æ–∫–∞–ª–æ—Ä–∏–π–Ω–∞—è"},
                "—à–ø–∏–Ω–∞—Ç": {"–∫–∞–ª–æ—Ä–∏–∏": 23, "–±–µ–ª–∫–∏": 2.9, "–∂–∏—Ä—ã": 0.4, "—É–≥–ª–µ–≤–æ–¥—ã": 3.6, "–∫–ª–µ—Ç—á–∞—Ç–∫–∞": 2.2, "–æ–ø–∏—Å–∞–Ω–∏–µ": "–ñ–µ–ª–µ–∑–æ –∏ –≤–∏—Ç–∞–º–∏–Ω—ã"},
                "–º–æ—Ä–∫–æ–≤—å": {"–∫–∞–ª–æ—Ä–∏–∏": 41, "–±–µ–ª–∫–∏": 0.9, "–∂–∏—Ä—ã": 0.2, "—É–≥–ª–µ–≤–æ–¥—ã": 10, "–∫–ª–µ—Ç—á–∞—Ç–∫–∞": 2.8, "–æ–ø–∏—Å–∞–Ω–∏–µ": "–ë–µ—Ç–∞-–∫–∞—Ä–æ—Ç–∏–Ω"}
            }
        };

        function showCategory(category) {
            const categories = document.getElementById('categories');
            const productsContainer = document.getElementById('productsContainer');
            const productsList = document.getElementById('productsList');
            
            categories.style.display = 'none';
            productsContainer.style.display = 'block';
            
            const products = productsDatabase[category];
            let html = '';
            
            for (const [name, data] of Object.entries(products)) {
                html += `
                    <div class="product-card" onclick="showProductDetails('${name}', ${JSON.stringify(data).replace(/"/g, '&quot;')})">
                        <div class="product-name">${name.charAt(0).toUpperCase() + name.slice(1)}</div>
                        <div class="product-info">
                            <div>üî• ${data.–∫–∞–ª–æ—Ä–∏–∏} –∫–∫–∞–ª</div>
                            <div>ü•© ${data.–±–µ–ª–∫–∏}–≥ –±–µ–ª–∫–∏</div>
                            <div>ü´í ${data.–∂–∏—Ä—ã}–≥ –∂–∏—Ä—ã</div>
                            <div>üåæ ${data.—É–≥–ª–µ–≤–æ–¥—ã}–≥ —É–≥–ª–µ–≤–æ–¥—ã</div>
                        </div>
                    </div>
                `;
            }
            
            productsList.innerHTML = html;
        }

        function showCategories() {
            const categories = document.getElementById('categories');
            const productsContainer = document.getElementById('productsContainer');
            
            categories.style.display = 'grid';
            productsContainer.style.display = 'none';
        }

        function showProductDetails(name, data) {
            const message = `üçé ${name.toUpperCase()}

üìä –ü–∏—â–µ–≤–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å –Ω–∞ 100–≥:
üî• –ö–∞–ª–æ—Ä–∏–∏: ${data.–∫–∞–ª–æ—Ä–∏–∏} –∫–∫–∞–ª
ü•© –ë–µ–ª–∫–∏: ${data.–±–µ–ª–∫–∏}–≥
ü´í –ñ–∏—Ä—ã: ${data.–∂–∏—Ä—ã}–≥
üåæ –£–≥–ª–µ–≤–æ–¥—ã: ${data.—É–≥–ª–µ–≤–æ–¥—ã}–≥
üåø –ö–ª–µ—Ç—á–∞—Ç–∫–∞: ${data.–∫–ª–µ—Ç—á–∞—Ç–∫–∞}–≥

üí° ${data.–æ–ø–∏—Å–∞–Ω–∏–µ}`;

            // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –æ–±—Ä–∞—Ç–Ω–æ –≤ Telegram
            tg.sendData(JSON.stringify({
                action: 'product_details',
                name: name,
                details: message,
                goal: '–ø–æ—Ö—É–¥–µ–Ω–∏–µ',
                category: '–ø—Ä–æ–¥—É–∫—Ç—ã'
            }));
        }

        // –ü–æ–∏—Å–∫ –ø—Ä–æ–¥—É–∫—Ç–æ–≤
        document.getElementById('searchInput').addEventListener('input', function(e) {
            const query = e.target.value.toLowerCase();
            if (query.length < 2) return;
            
            const results = [];
            for (const [category, products] of Object.entries(productsDatabase)) {
                for (const [name, data] of Object.entries(products)) {
                    if (name.toLowerCase().includes(query)) {
                        results.push({name, data, category});
                    }
                }
            }
            
            if (results.length > 0) {
                showSearchResults(results);
            }
        });

        function showSearchResults(results) {
            const categories = document.getElementById('categories');
            const productsContainer = document.getElementById('productsContainer');
            const productsList = document.getElementById('productsList');
            
            categories.style.display = 'none';
            productsContainer.style.display = 'block';
            
            let html = '';
            for (const result of results.slice(0, 10)) {
                html += `
                    <div class="product-card" onclick="showProductDetails('${result.name}', ${JSON.stringify(result.data).replace(/"/g, '&quot;')})">
                        <div class="product-name">${result.name.charAt(0).toUpperCase() + result.name.slice(1)}</div>
                        <div class="product-info">
                            <div>üî• ${result.data.–∫–∞–ª–æ—Ä–∏–∏} –∫–∫–∞–ª</div>
                            <div>ü•© ${result.data.–±–µ–ª–∫–∏}–≥ –±–µ–ª–∫–∏</div>
                            <div>ü´í ${result.data.–∂–∏—Ä—ã}–≥ –∂–∏—Ä—ã</div>
                            <div>üåæ ${result.data.—É–≥–ª–µ–≤–æ–¥—ã}–≥ —É–≥–ª–µ–≤–æ–¥—ã</div>
                        </div>
                    </div>
                `;
            }
            
            productsList.innerHTML = html;
        }
        // –®–∞–±–ª–æ–Ω—ã –ø–∏—Ç–∞–Ω–∏—è
        const MEAL_TEMPLATES = {
            "–ø–æ—Ö—É–¥–µ–Ω–∏–µ": {
                "1200_–∫–∞–ª–æ—Ä–∏–π": {
                    "–Ω–∞–∑–≤–∞–Ω–∏–µ": "–î–∏–µ—Ç–∞ 1200 –∫–∫–∞–ª",
                    "–∫–∞–ª–æ—Ä–∏–∏": 1200,
                    "–æ–ø–∏—Å–∞–Ω–∏–µ": "–°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –¥–∏–µ—Ç–∞ –¥–ª—è –ø–æ—Ö—É–¥–µ–Ω–∏—è",
                    "–ø—Ä–æ–¥—É–∫—Ç—ã": {
                        "–∑–∞–≤—Ç—Ä–∞–∫": [
                            {"–Ω–∞–∑–≤–∞–Ω–∏–µ": "–æ–≤—Å—è–Ω–∫–∞", "–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ": 50, "–∫–∞—Ç–µ–≥–æ—Ä–∏—è": "—Å–ª–æ–∂–Ω—ã–µ_—É–≥–ª–µ–≤–æ–¥—ã"},
                            {"–Ω–∞–∑–≤–∞–Ω–∏–µ": "—è–±–ª–æ–∫–æ", "–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ": 100, "–∫–∞—Ç–µ–≥–æ—Ä–∏—è": "–ø—Ä–æ—Å—Ç—ã–µ_—É–≥–ª–µ–≤–æ–¥—ã"},
                            {"–Ω–∞–∑–≤–∞–Ω–∏–µ": "–º–∏–Ω–¥–∞–ª—å", "–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ": 10, "–∫–∞—Ç–µ–≥–æ—Ä–∏—è": "–Ω–µ–Ω–∞—Å—ã—â–µ–Ω–Ω—ã–µ_–∂–∏—Ä—ã"}
                        ],
                        "–ø–µ—Ä–µ–∫—É—Å": [
                            {"–Ω–∞–∑–≤–∞–Ω–∏–µ": "—Ç–≤–æ—Ä–æ–≥ –æ–±–µ–∑–∂–∏—Ä–µ–Ω–Ω—ã–π", "–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ": 100, "–∫–∞—Ç–µ–≥–æ—Ä–∏—è": "–±–µ–ª–∫–∏"},
                            {"–Ω–∞–∑–≤–∞–Ω–∏–µ": "–∫–ª—É–±–Ω–∏–∫–∞", "–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ": 50, "–∫–∞—Ç–µ–≥–æ—Ä–∏—è": "–ø—Ä–æ—Å—Ç—ã–µ_—É–≥–ª–µ–≤–æ–¥—ã"}
                        ],
                        "–æ–±–µ–¥": [
                            {"–Ω–∞–∑–≤–∞–Ω–∏–µ": "–∫—É—Ä–∏–Ω–∞—è –≥—Ä—É–¥–∫–∞", "–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ": 120, "–∫–∞—Ç–µ–≥–æ—Ä–∏—è": "–±–µ–ª–∫–∏"},
                            {"–Ω–∞–∑–≤–∞–Ω–∏–µ": "–≥—Ä–µ—á–∫–∞", "–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ": 40, "–∫–∞—Ç–µ–≥–æ—Ä–∏—è": "—Å–ª–æ–∂–Ω—ã–µ_—É–≥–ª–µ–≤–æ–¥—ã"},
                            {"–Ω–∞–∑–≤–∞–Ω–∏–µ": "–±—Ä–æ–∫–∫–æ–ª–∏", "–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ": 150, "–∫–∞—Ç–µ–≥–æ—Ä–∏—è": "–∫–ª–µ—Ç—á–∞—Ç–∫–∞"}
                        ],
                        "–ø–æ–ª–¥–Ω–∏–∫": [
                            {"–Ω–∞–∑–≤–∞–Ω–∏–µ": "–π–æ–≥—É—Ä—Ç –≥—Ä–µ—á–µ—Å–∫–∏–π", "–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ": 100, "–∫–∞—Ç–µ–≥–æ—Ä–∏—è": "–±–µ–ª–∫–∏"}
                        ],
                        "—É–∂–∏–Ω": [
                            {"–Ω–∞–∑–≤–∞–Ω–∏–µ": "—Ä—ã–±–∞ –±–µ–ª–∞—è", "–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ": 100, "–∫–∞—Ç–µ–≥–æ—Ä–∏—è": "–±–µ–ª–∫–∏"},
                            {"–Ω–∞–∑–≤–∞–Ω–∏–µ": "—Å–∞–ª–∞—Ç –ª–∞—Ç—É–∫", "–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ": 100, "–∫–∞—Ç–µ–≥–æ—Ä–∏—è": "–∫–ª–µ—Ç—á–∞—Ç–∫–∞"},
                            {"–Ω–∞–∑–≤–∞–Ω–∏–µ": "–æ–ª–∏–≤–∫–æ–≤–æ–µ –º–∞—Å–ª–æ", "–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ": 5, "–∫–∞—Ç–µ–≥–æ—Ä–∏—è": "–Ω–µ–Ω–∞—Å—ã—â–µ–Ω–Ω—ã–µ_–∂–∏—Ä—ã"}
                        ]
                    }
                },
                "1500_–∫–∞–ª–æ—Ä–∏–π": {
                    "–Ω–∞–∑–≤–∞–Ω–∏–µ": "–î–∏–µ—Ç–∞ 1500 –∫–∫–∞–ª",
                    "–∫–∞–ª–æ—Ä–∏–∏": 1500,
                    "–æ–ø–∏—Å–∞–Ω–∏–µ": "–£–º–µ—Ä–µ–Ω–Ω–∞—è –¥–∏–µ—Ç–∞ –¥–ª—è –ø–æ—Ö—É–¥–µ–Ω–∏—è",
                    "–ø—Ä–æ–¥—É–∫—Ç—ã": {
                        "–∑–∞–≤—Ç—Ä–∞–∫": [
                            {"–Ω–∞–∑–≤–∞–Ω–∏–µ": "–æ–≤—Å—è–Ω–∫–∞", "–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ": 60, "–∫–∞—Ç–µ–≥–æ—Ä–∏—è": "—Å–ª–æ–∂–Ω—ã–µ_—É–≥–ª–µ–≤–æ–¥—ã"},
                            {"–Ω–∞–∑–≤–∞–Ω–∏–µ": "–±–∞–Ω–∞–Ω", "–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ": 80, "–∫–∞—Ç–µ–≥–æ—Ä–∏—è": "–ø—Ä–æ—Å—Ç—ã–µ_—É–≥–ª–µ–≤–æ–¥—ã"},
                            {"–Ω–∞–∑–≤–∞–Ω–∏–µ": "–º–∏–Ω–¥–∞–ª—å", "–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ": 15, "–∫–∞—Ç–µ–≥–æ—Ä–∏—è": "–Ω–µ–Ω–∞—Å—ã—â–µ–Ω–Ω—ã–µ_–∂–∏—Ä—ã"}
                        ],
                        "–ø–µ—Ä–µ–∫—É—Å": [
                            {"–Ω–∞–∑–≤–∞–Ω–∏–µ": "—Ç–≤–æ—Ä–æ–≥ 2%", "–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ": 120, "–∫–∞—Ç–µ–≥–æ—Ä–∏—è": "–±–µ–ª–∫–∏"},
                            {"–Ω–∞–∑–≤–∞–Ω–∏–µ": "—è–±–ª–æ–∫–æ", "–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ": 100, "–∫–∞—Ç–µ–≥–æ—Ä–∏—è": "–ø—Ä–æ—Å—Ç—ã–µ_—É–≥–ª–µ–≤–æ–¥—ã"}
                        ],
                        "–æ–±–µ–¥": [
                            {"–Ω–∞–∑–≤–∞–Ω–∏–µ": "–∫—É—Ä–∏–Ω–∞—è –≥—Ä—É–¥–∫–∞", "–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ": 150, "–∫–∞—Ç–µ–≥–æ—Ä–∏—è": "–±–µ–ª–∫–∏"},
                            {"–Ω–∞–∑–≤–∞–Ω–∏–µ": "—Ä–∏—Å –±—É—Ä—ã–π", "–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ": 50, "–∫–∞—Ç–µ–≥–æ—Ä–∏—è": "—Å–ª–æ–∂–Ω—ã–µ_—É–≥–ª–µ–≤–æ–¥—ã"},
                            {"–Ω–∞–∑–≤–∞–Ω–∏–µ": "–±—Ä–æ–∫–∫–æ–ª–∏", "–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ": 200, "–∫–∞—Ç–µ–≥–æ—Ä–∏—è": "–∫–ª–µ—Ç—á–∞—Ç–∫–∞"},
                            {"–Ω–∞–∑–≤–∞–Ω–∏–µ": "–æ–ª–∏–≤–∫–æ–≤–æ–µ –º–∞—Å–ª–æ", "–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ": 8, "–∫–∞—Ç–µ–≥–æ—Ä–∏—è": "–Ω–µ–Ω–∞—Å—ã—â–µ–Ω–Ω—ã–µ_–∂–∏—Ä—ã"}
                        ],
                        "–ø–æ–ª–¥–Ω–∏–∫": [
                            {"–Ω–∞–∑–≤–∞–Ω–∏–µ": "–π–æ–≥—É—Ä—Ç –≥—Ä–µ—á–µ—Å–∫–∏–π", "–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ": 150, "–∫–∞—Ç–µ–≥–æ—Ä–∏—è": "–±–µ–ª–∫–∏"},
                            {"–Ω–∞–∑–≤–∞–Ω–∏–µ": "–æ—Ä–µ—Ö–∏ –≥—Ä–µ—Ü–∫–∏–µ", "–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ": 10, "–∫–∞—Ç–µ–≥–æ—Ä–∏—è": "–Ω–µ–Ω–∞—Å—ã—â–µ–Ω–Ω—ã–µ_–∂–∏—Ä—ã"}
                        ],
                        "—É–∂–∏–Ω": [
                            {"–Ω–∞–∑–≤–∞–Ω–∏–µ": "–ª–æ—Å–æ—Å—å", "–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ": 120, "–∫–∞—Ç–µ–≥–æ—Ä–∏—è": "–±–µ–ª–∫–∏"},
                            {"–Ω–∞–∑–≤–∞–Ω–∏–µ": "—à–ø–∏–Ω–∞—Ç", "–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ": 100, "–∫–∞—Ç–µ–≥–æ—Ä–∏—è": "–∫–ª–µ—Ç—á–∞—Ç–∫–∞"},
                            {"–Ω–∞–∑–≤–∞–Ω–∏–µ": "–∞–≤–æ–∫–∞–¥–æ", "–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ": 50, "–∫–∞—Ç–µ–≥–æ—Ä–∏—è": "–Ω–µ–Ω–∞—Å—ã—â–µ–Ω–Ω—ã–µ_–∂–∏—Ä—ã"}
                        ]
                    }
                }
            },
            "–Ω–∞–±–æ—Ä_–º–∞—Å—Å—ã": {
                "2500_–∫–∞–ª–æ—Ä–∏–π": {
                    "–Ω–∞–∑–≤–∞–Ω–∏–µ": "–ù–∞–±–æ—Ä –º–∞—Å—Å—ã 2500 –∫–∫–∞–ª",
                    "–∫–∞–ª–æ—Ä–∏–∏": 2500,
                    "–æ–ø–∏—Å–∞–Ω–∏–µ": "–í—ã—Å–æ–∫–æ–∫–∞–ª–æ—Ä–∏–π–Ω–∞—è –¥–∏–µ—Ç–∞ –¥–ª—è –Ω–∞–±–æ—Ä–∞ –º–∞—Å—Å—ã",
                    "–ø—Ä–æ–¥—É–∫—Ç—ã": {
                        "–∑–∞–≤—Ç—Ä–∞–∫": [
                            {"–Ω–∞–∑–≤–∞–Ω–∏–µ": "–æ–≤—Å—è–Ω–∫–∞", "–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ": 80, "–∫–∞—Ç–µ–≥–æ—Ä–∏—è": "—Å–ª–æ–∂–Ω—ã–µ_—É–≥–ª–µ–≤–æ–¥—ã"},
                            {"–Ω–∞–∑–≤–∞–Ω–∏–µ": "–±–∞–Ω–∞–Ω", "–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ": 120, "–∫–∞—Ç–µ–≥–æ—Ä–∏—è": "–ø—Ä–æ—Å—Ç—ã–µ_—É–≥–ª–µ–≤–æ–¥—ã"},
                            {"–Ω–∞–∑–≤–∞–Ω–∏–µ": "–º–∏–Ω–¥–∞–ª—å", "–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ": 30, "–∫–∞—Ç–µ–≥–æ—Ä–∏—è": "–Ω–µ–Ω–∞—Å—ã—â–µ–Ω–Ω—ã–µ_–∂–∏—Ä—ã"},
                            {"–Ω–∞–∑–≤–∞–Ω–∏–µ": "–º–µ–¥", "–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ": 20, "–∫–∞—Ç–µ–≥–æ—Ä–∏—è": "–ø—Ä–æ—Å—Ç—ã–µ_—É–≥–ª–µ–≤–æ–¥—ã"}
                        ],
                        "–ø–µ—Ä–µ–∫—É—Å": [
                            {"–Ω–∞–∑–≤–∞–Ω–∏–µ": "—Ç–≤–æ—Ä–æ–≥ 5%", "–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ": 150, "–∫–∞—Ç–µ–≥–æ—Ä–∏—è": "–±–µ–ª–∫–∏"},
                            {"–Ω–∞–∑–≤–∞–Ω–∏–µ": "–≤–∏–Ω–æ–≥—Ä–∞–¥", "–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ": 100, "–∫–∞—Ç–µ–≥–æ—Ä–∏—è": "–ø—Ä–æ—Å—Ç—ã–µ_—É–≥–ª–µ–≤–æ–¥—ã"}
                        ],
                        "–æ–±–µ–¥": [
                            {"–Ω–∞–∑–≤–∞–Ω–∏–µ": "–≥–æ–≤—è–¥–∏–Ω–∞ –ø–æ—Å—Ç–Ω–∞—è", "–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ": 200, "–∫–∞—Ç–µ–≥–æ—Ä–∏—è": "–±–µ–ª–∫–∏"},
                            {"–Ω–∞–∑–≤–∞–Ω–∏–µ": "—Ä–∏—Å –±–µ–ª—ã–π", "–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ": 80, "–∫–∞—Ç–µ–≥–æ—Ä–∏—è": "—Å–ª–æ–∂–Ω—ã–µ_—É–≥–ª–µ–≤–æ–¥—ã"},
                            {"–Ω–∞–∑–≤–∞–Ω–∏–µ": "–±—Ä–æ–∫–∫–æ–ª–∏", "–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ": 150, "–∫–∞—Ç–µ–≥–æ—Ä–∏—è": "–∫–ª–µ—Ç—á–∞—Ç–∫–∞"},
                            {"–Ω–∞–∑–≤–∞–Ω–∏–µ": "–æ–ª–∏–≤–∫–æ–≤–æ–µ –º–∞—Å–ª–æ", "–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ": 15, "–∫–∞—Ç–µ–≥–æ—Ä–∏—è": "–Ω–µ–Ω–∞—Å—ã—â–µ–Ω–Ω—ã–µ_–∂–∏—Ä—ã"}
                        ],
                        "–ø–æ–ª–¥–Ω–∏–∫": [
                            {"–Ω–∞–∑–≤–∞–Ω–∏–µ": "–ø—Ä–æ—Ç–µ–∏–Ω —Å—ã–≤–æ—Ä–æ—Ç–æ—á–Ω—ã–π", "–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ": 30, "–∫–∞—Ç–µ–≥–æ—Ä–∏—è": "–±–µ–ª–∫–∏"},
                            {"–Ω–∞–∑–≤–∞–Ω–∏–µ": "–±–∞–Ω–∞–Ω", "–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ": 100, "–∫–∞—Ç–µ–≥–æ—Ä–∏—è": "–ø—Ä–æ—Å—Ç—ã–µ_—É–≥–ª–µ–≤–æ–¥—ã"}
                        ],
                        "—É–∂–∏–Ω": [
                            {"–Ω–∞–∑–≤–∞–Ω–∏–µ": "–ª–æ—Å–æ—Å—å", "–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ": 150, "–∫–∞—Ç–µ–≥–æ—Ä–∏—è": "–±–µ–ª–∫–∏"},
                            {"–Ω–∞–∑–≤–∞–Ω–∏–µ": "–∫–∞—Ä—Ç–æ—Ñ–µ–ª—å", "–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ": 200, "–∫–∞—Ç–µ–≥–æ—Ä–∏—è": "—Å–ª–æ–∂–Ω—ã–µ_—É–≥–ª–µ–≤–æ–¥—ã"},
                            {"–Ω–∞–∑–≤–∞–Ω–∏–µ": "—à–ø–∏–Ω–∞—Ç", "–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ": 100, "–∫–∞—Ç–µ–≥–æ—Ä–∏—è": "–∫–ª–µ—Ç—á–∞—Ç–∫–∞"}
                        ],
                        "–ø–µ—Ä–µ–¥_—Å–Ω–æ–º": [
                            {"–Ω–∞–∑–≤–∞–Ω–∏–µ": "—Ç–≤–æ—Ä–æ–≥ 5%", "–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ": 100, "–∫–∞—Ç–µ–≥–æ—Ä–∏—è": "–±–µ–ª–∫–∏"},
                            {"–Ω–∞–∑–≤–∞–Ω–∏–µ": "–æ—Ä–µ—Ö–∏ –≥—Ä–µ—Ü–∫–∏–µ", "–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ": 20, "–∫–∞—Ç–µ–≥–æ—Ä–∏—è": "–Ω–µ–Ω–∞—Å—ã—â–µ–Ω–Ω—ã–µ_–∂–∏—Ä—ã"}
                        ]
                    }
                }
            },
            "–ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–µ": {
                "2000_–∫–∞–ª–æ—Ä–∏–π": {
                    "–Ω–∞–∑–≤–∞–Ω–∏–µ": "–ü–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–µ 2000 –∫–∫–∞–ª",
                    "–∫–∞–ª–æ—Ä–∏–∏": 2000,
                    "–æ–ø–∏—Å–∞–Ω–∏–µ": "–°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –¥–∏–µ—Ç–∞ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏—è –≤–µ—Å–∞",
                    "–ø—Ä–æ–¥—É–∫—Ç—ã": {
                        "–∑–∞–≤—Ç—Ä–∞–∫": [
                            {"–Ω–∞–∑–≤–∞–Ω–∏–µ": "–æ–≤—Å—è–Ω–∫–∞", "–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ": 60, "–∫–∞—Ç–µ–≥–æ—Ä–∏—è": "—Å–ª–æ–∂–Ω—ã–µ_—É–≥–ª–µ–≤–æ–¥—ã"},
                            {"–Ω–∞–∑–≤–∞–Ω–∏–µ": "—è–±–ª–æ–∫–æ", "–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ": 100, "–∫–∞—Ç–µ–≥–æ—Ä–∏—è": "–ø—Ä–æ—Å—Ç—ã–µ_—É–≥–ª–µ–≤–æ–¥—ã"},
                            {"–Ω–∞–∑–≤–∞–Ω–∏–µ": "–º–∏–Ω–¥–∞–ª—å", "–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ": 20, "–∫–∞—Ç–µ–≥–æ—Ä–∏—è": "–Ω–µ–Ω–∞—Å—ã—â–µ–Ω–Ω—ã–µ_–∂–∏—Ä—ã"}
                        ],
                        "–ø–µ—Ä–µ–∫—É—Å": [
                            {"–Ω–∞–∑–≤–∞–Ω–∏–µ": "—Ç–≤–æ—Ä–æ–≥ 5%", "–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ": 100, "–∫–∞—Ç–µ–≥–æ—Ä–∏—è": "–±–µ–ª–∫–∏"},
                            {"–Ω–∞–∑–≤–∞–Ω–∏–µ": "–≥—Ä—É—à–∞", "–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ": 100, "–∫–∞—Ç–µ–≥–æ—Ä–∏—è": "–ø—Ä–æ—Å—Ç—ã–µ_—É–≥–ª–µ–≤–æ–¥—ã"}
                        ],
                        "–æ–±–µ–¥": [
                            {"–Ω–∞–∑–≤–∞–Ω–∏–µ": "–∫—É—Ä–∏–Ω–∞—è –≥—Ä—É–¥–∫–∞", "–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ": 150, "–∫–∞—Ç–µ–≥–æ—Ä–∏—è": "–±–µ–ª–∫–∏"},
                            {"–Ω–∞–∑–≤–∞–Ω–∏–µ": "–≥—Ä–µ—á–∫–∞", "–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ": 60, "–∫–∞—Ç–µ–≥–æ—Ä–∏—è": "—Å–ª–æ–∂–Ω—ã–µ_—É–≥–ª–µ–≤–æ–¥—ã"},
                            {"–Ω–∞–∑–≤–∞–Ω–∏–µ": "–±—Ä–æ–∫–∫–æ–ª–∏", "–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ": 150, "–∫–∞—Ç–µ–≥–æ—Ä–∏—è": "–∫–ª–µ—Ç—á–∞—Ç–∫–∞"},
                            {"–Ω–∞–∑–≤–∞–Ω–∏–µ": "–æ–ª–∏–≤–∫–æ–≤–æ–µ –º–∞—Å–ª–æ", "–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ": 10, "–∫–∞—Ç–µ–≥–æ—Ä–∏—è": "–Ω–µ–Ω–∞—Å—ã—â–µ–Ω–Ω—ã–µ_–∂–∏—Ä—ã"}
                        ],
                        "–ø–æ–ª–¥–Ω–∏–∫": [
                            {"–Ω–∞–∑–≤–∞–Ω–∏–µ": "–π–æ–≥—É—Ä—Ç –≥—Ä–µ—á–µ—Å–∫–∏–π", "–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ": 100, "–∫–∞—Ç–µ–≥–æ—Ä–∏—è": "–±–µ–ª–∫–∏"},
                            {"–Ω–∞–∑–≤–∞–Ω–∏–µ": "–æ—Ä–µ—Ö–∏ –≥—Ä–µ—Ü–∫–∏–µ", "–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ": 15, "–∫–∞—Ç–µ–≥–æ—Ä–∏—è": "–Ω–µ–Ω–∞—Å—ã—â–µ–Ω–Ω—ã–µ_–∂–∏—Ä—ã"}
                        ],
                        "—É–∂–∏–Ω": [
                            {"–Ω–∞–∑–≤–∞–Ω–∏–µ": "—Ä—ã–±–∞ –±–µ–ª–∞—è", "–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ": 120, "–∫–∞—Ç–µ–≥–æ—Ä–∏—è": "–±–µ–ª–∫–∏"},
                            {"–Ω–∞–∑–≤–∞–Ω–∏–µ": "—à–ø–∏–Ω–∞—Ç", "–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ": 100, "–∫–∞—Ç–µ–≥–æ—Ä–∏—è": "–∫–ª–µ—Ç—á–∞—Ç–∫–∞"},
                            {"–Ω–∞–∑–≤–∞–Ω–∏–µ": "–∞–≤–æ–∫–∞–¥–æ", "–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ": 50, "–∫–∞—Ç–µ–≥–æ—Ä–∏—è": "–Ω–µ–Ω–∞—Å—ã—â–µ–Ω–Ω—ã–µ_–∂–∏—Ä—ã"}
                        ]
                    }
                }
            }
        };

        // –§—É–Ω–∫—Ü–∏–∏ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –ø–∏—Ç–∞–Ω–∏—è
        function openMealPlanner() {
            document.getElementById('mealPlannerModal').style.display = 'block';
            updateMealPlanDisplay();
        }

        function closeMealPlanner() {
            document.getElementById('mealPlannerModal').style.display = 'none';
        }

        function applyTemplate(goal, templateKey) {
            const templates = MEAL_TEMPLATES[goal];
            const template = templates[templateKey];
            if (!template) {
                alert('–®–∞–±–ª–æ–Ω –Ω–µ –Ω–∞–π–¥–µ–Ω!');
                return;
            }

            // –û—á–∏—â–∞–µ–º —Ç–µ–∫—É—â–∏–π –ø–ª–∞–Ω
            clearMealPlan();

            // –î–æ–±–∞–≤–ª—è–µ–º –ø—Ä–æ–¥—É–∫—Ç—ã –∏–∑ —à–∞–±–ª–æ–Ω–∞
            for (const mealType in template.–ø—Ä–æ–¥—É–∫—Ç—ã) {
                const products = template.–ø—Ä–æ–¥—É–∫—Ç—ã[mealType];
                for (const product of products) {
                    addProductToMealFromTemplate(
                        product.–Ω–∞–∑–≤–∞–Ω–∏–µ,
                        product.–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ,
                        mealType,
                        product.–∫–∞—Ç–µ–≥–æ—Ä–∏—è
                    );
                }
            }

            // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            updateMealPlanDisplay();
            alert('–®–∞–±–ª–æ–Ω –ø—Ä–∏–º–µ–Ω–µ–Ω —É—Å–ø–µ—à–Ω–æ!');
        }

        function clearMealPlan() {
            const mealTypes = ['–∑–∞–≤—Ç—Ä–∞–∫', '–ø–µ—Ä–µ–∫—É—Å', '–æ–±–µ–¥', '–ø–æ–ª–¥–Ω–∏–∫', '—É–∂–∏–Ω', '–ø–µ—Ä–µ–¥_—Å–Ω–æ–º'];
            mealTypes.forEach(mealType => {
                const container = document.getElementById('${mealType}-products');
                if (container) {
                    container.innerHTML = '';
                }
                localStorage.removeItem('meal_plan_${mealType}');
            });
        }

        function addProductToMealFromTemplate(productName, quantity, mealType, category) {
            // –ü–æ–ª—É—á–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø—Ä–æ–¥—É–∫—Ç–µ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
            const productInfo = productsDatabase[category]     </script>    </script> productsDatabase[category][productName];
            if (!productInfo) {
                console.error('–ü—Ä–æ–¥—É–∫—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω:', productName);
                return false;
            }

            // –°–æ–∑–¥–∞–µ–º –æ–±—ä–µ–∫—Ç –ø—Ä–æ–¥—É–∫—Ç–∞ –¥–ª—è –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞
            const product = {
                name: productName,
                quantity: quantity,
                calories: Math.round((productInfo.–∫–∞–ª–æ—Ä–∏–∏ * quantity) / 100),
                proteins: Math.round((productInfo.–±–µ–ª–∫–∏ * quantity) / 100 * 10) / 10,
                fats: Math.round((productInfo.–∂–∏—Ä—ã * quantity) / 100 * 10) / 10,
                carbs: Math.round((productInfo.—É–≥–ª–µ–≤–æ–¥—ã * quantity) / 100 * 10) / 10,
                fiber: Math.round((productInfo.–∫–ª–µ—Ç—á–∞—Ç–∫–∞ * quantity) / 100 * 10) / 10,
                description: productInfo.–æ–ø–∏—Å–∞–Ω–∏–µ
            };

            // –î–æ–±–∞–≤–ª—è–µ–º –≤ localStorage
            const existingProducts = JSON.parse(localStorage.getItem('meal_plan_${mealType}') || '[]');
            existingProducts.push(product);
            localStorage.setItem('meal_plan_${mealType}', JSON.stringify(existingProducts));
            return true;
        }

        function updateMealPlanDisplay() {
            const mealTypes = ['–∑–∞–≤—Ç—Ä–∞–∫', '–ø–µ—Ä–µ–∫—É—Å', '–æ–±–µ–¥', '–ø–æ–ª–¥–Ω–∏–∫', '—É–∂–∏–Ω', '–ø–µ—Ä–µ–¥_—Å–Ω–æ–º'];
            mealTypes.forEach(mealType => {
                const container = document.getElementById('${mealType}-products');
                if (!container) return;

                const products = JSON.parse(localStorage.getItem('meal_plan_${mealType}') || '[]');
                container.innerHTML = '';

                products.forEach((product, index) => {
                    const productDiv = document.createElement('div');
                    productDiv.className = 'product-item';
                    productDiv.innerHTML = `
                        <div style="font-weight: bold;">${product.name}</div>
                        <div>${product.quantity}–≥</div>
                        <div>${product.calories}–∫–∫–∞–ª | –ë:${product.proteins}–≥ | –ñ:${product.fats}–≥ | –£:${product.carbs}–≥</div>
                    `;
                    container.appendChild(productDiv);
                });
            });
        }

        // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –µ–≥–æ
        window.onclick = function(event) {
            const modal = document.getElementById('mealPlannerModal');
            if (event.target == modal) {
                modal.style.display = 'none';
            }
        }
    </script>
</body>
</html> 