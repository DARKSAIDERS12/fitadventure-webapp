<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ë–∞–∑–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ FitAdventure</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--tg-theme-bg-color, #ffffff);
            color: var(--tg-theme-text-color, #000000);
            padding: 16px;
        }

        .header {
            text-align: center;
            margin-bottom: 20px;
            padding: 16px;
            background: var(--tg-theme-secondary-bg-color, #f0f0f0);
            border-radius: 12px;
        }

        .header h1 {
            font-size: 24px;
            margin-bottom: 8px;
            color: var(--tg-theme-text-color, #000000);
        }

        .header p {
            font-size: 14px;
            opacity: 0.7;
        }

        .search-container {
            margin-bottom: 20px;
        }

        .search-input {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid var(--tg-theme-hint-color, #999999);
            border-radius: 8px;
            font-size: 16px;
            background: var(--tg-theme-bg-color, #ffffff);
            color: var(--tg-theme-text-color, #000000);
        }

        .search-input:focus {
            outline: none;
            border-color: var(--tg-theme-button-color, #2481cc);
        }

        .categories {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 12px;
            margin-bottom: 20px;
        }

        .category-btn {
            padding: 16px 12px;
            border: none;
            border-radius: 12px;
            background: var(--tg-theme-button-color, #2481cc);
            color: var(--tg-theme-button-text-color, #ffffff);
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
        }

        .category-btn:hover {
            opacity: 0.8;
        }

        .products-container {
            display: none;
        }

        .product-card {
            background: var(--tg-theme-secondary-bg-color, #f0f0f0);
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 12px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .product-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .product-name {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 8px;
            color: var(--tg-theme-text-color, #000000);
        }

        .product-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            gap: 8px;
            font-size: 14px;
        }

        .info-item {
            background: var(--tg-theme-bg-color, #ffffff);
            padding: 8px 12px;
            border-radius: 8px;
            text-align: center;
        }

        .info-label {
            font-weight: 500;
            opacity: 0.7;
        }

        .info-value {
            font-weight: 600;
            color: var(--tg-theme-button-color, #2481cc);
        }

        .back-btn {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            padding: 12px 24px;
            background: var(--tg-theme-button-color, #2481cc);
            color: var(--tg-theme-button-text-color, #ffffff);
            border: none;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            display: none;
        }

        .goal-selector {
            margin-bottom: 20px;
            text-align: center;
        }

        .goal-btn {
            padding: 8px 16px;
            margin: 0 4px;
            border: 2px solid var(--tg-theme-button-color, #2481cc);
            border-radius: 20px;
            background: transparent;
            color: var(--tg-theme-text-color, #000000);
            font-size: 14px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .goal-btn.active {
            background: var(--tg-theme-button-color, #2481cc);
            color: var(--tg-theme-button-text-color, #ffffff);
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üçé –ë–∞–∑–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤</h1>
        <p>–ö–∞–ª–æ—Ä–∏–π–Ω–æ—Å—Ç—å –∏ –ë–ñ–£ –Ω–∞ 100–≥</p>
    </div>

    <div class="goal-selector">
        <button class="goal-btn active" data-goal="–ø–æ—Ö—É–¥–µ–Ω–∏–µ">–ü–æ—Ö—É–¥–µ–Ω–∏–µ</button>
        <button class="goal-btn" data-goal="–Ω–∞–±–æ—Ä_–º–∞—Å—Å—ã">–ù–∞–±–æ—Ä –º–∞—Å—Å—ã</button>
        <button class="goal-btn" data-goal="–ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–µ">–ü–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–µ</button>
    </div>

    <div class="search-container">
        <input type="text" class="search-input" placeholder="üîç –ü–æ–∏—Å–∫ –ø—Ä–æ–¥—É–∫—Ç–∞..." id="searchInput">
    </div>

    <div class="categories" id="categories">
        <button class="category-btn" data-category="—Å–ª–æ–∂–Ω—ã–µ_—É–≥–ª–µ–≤–æ–¥—ã">üåæ –°–ª–æ–∂–Ω—ã–µ —É–≥–ª–µ–≤–æ–¥—ã</button>
        <button class="category-btn" data-category="–ø—Ä–æ—Å—Ç—ã–µ_—É–≥–ª–µ–≤–æ–¥—ã">‚ö° –ü—Ä–æ—Å—Ç—ã–µ —É–≥–ª–µ–≤–æ–¥—ã</button>
        <button class="category-btn" data-category="–±–µ–ª–∫–∏">ü•© –ë–µ–ª–∫–∏</button>
        <button class="category-btn" data-category="–Ω–µ–Ω–∞—Å—ã—â–µ–Ω–Ω—ã–µ_–∂–∏—Ä—ã">ü´í –ù–µ–Ω–∞—Å—ã—â–µ–Ω–Ω—ã–µ –∂–∏—Ä—ã</button>
        <button class="category-btn" data-category="–Ω–∞—Å—ã—â–µ–Ω–Ω—ã–µ_–∂–∏—Ä—ã">üßà –ù–∞—Å—ã—â–µ–Ω–Ω—ã–µ –∂–∏—Ä—ã</button>
        <button class="category-btn" data-category="–∫–ª–µ—Ç—á–∞—Ç–∫–∞">üåø –ö–ª–µ—Ç—á–∞—Ç–∫–∞</button>
    </div>

    <div class="products-container" id="productsContainer">
        <div class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤...</div>
    </div>

    <button class="back-btn" id="backBtn">üîô –ù–∞–∑–∞–¥ –∫ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º</button>

    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram Web App
        const tg = window.Telegram.WebApp;
        tg.ready();
        tg.expand();

        // –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤
        const productsDatabase = {
            "–ø–æ—Ö—É–¥–µ–Ω–∏–µ": {
                "—Å–ª–æ–∂–Ω—ã–µ_—É–≥–ª–µ–≤–æ–¥—ã": {
                    "–æ–≤—Å—è–Ω–∫–∞": {"–∫–∞–ª–æ—Ä–∏–∏": 389, "–±–µ–ª–∫–∏": 16.9, "–∂–∏—Ä—ã": 6.9, "—É–≥–ª–µ–≤–æ–¥—ã": 66, "–∫–ª–µ—Ç—á–∞—Ç–∫–∞": 10.6, "–æ–ø–∏—Å–∞–Ω–∏–µ": "–ú–µ–¥–ª–µ–Ω–Ω—ã–µ —É–≥–ª–µ–≤–æ–¥—ã, –Ω–∞–¥–æ–ª–≥–æ –Ω–∞—Å—ã—â–∞—é—Ç"},
                    "–≥—Ä–µ—á–∫–∞": {"–∫–∞–ª–æ—Ä–∏–∏": 343, "–±–µ–ª–∫–∏": 13, "–∂–∏—Ä—ã": 3.4, "—É–≥–ª–µ–≤–æ–¥—ã": 72, "–∫–ª–µ—Ç—á–∞—Ç–∫–∞": 10, "–æ–ø–∏—Å–∞–Ω–∏–µ": "–ë–æ–≥–∞—Ç–∞ –∂–µ–ª–µ–∑–æ–º, –∏–¥–µ–∞–ª—å–Ω–∞ –¥–ª—è –ø–æ—Ö—É–¥–µ–Ω–∏—è"},
                    "–∫–∏–Ω–æ–∞": {"–∫–∞–ª–æ—Ä–∏–∏": 120, "–±–µ–ª–∫–∏": 4.4, "–∂–∏—Ä—ã": 1.9, "—É–≥–ª–µ–≤–æ–¥—ã": 22, "–∫–ª–µ—Ç—á–∞—Ç–∫–∞": 2.8, "–æ–ø–∏—Å–∞–Ω–∏–µ": "–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –±–µ–ª–æ–∫, –Ω–∏–∑–∫–∞—è –∫–∞–ª–æ—Ä–∏–π–Ω–æ—Å—Ç—å"}
                },
                "–ø—Ä–æ—Å—Ç—ã–µ_—É–≥–ª–µ–≤–æ–¥—ã": {
                    "–º–µ–¥": {"–∫–∞–ª–æ—Ä–∏–∏": 304, "–±–µ–ª–∫–∏": 0.3, "–∂–∏—Ä—ã": 0, "—É–≥–ª–µ–≤–æ–¥—ã": 82, "–∫–ª–µ—Ç—á–∞—Ç–∫–∞": 0.2, "–æ–ø–∏—Å–∞–Ω–∏–µ": "–ù–∞—Ç—É—Ä–∞–ª—å–Ω—ã–π –ø–æ–¥—Å–ª–∞—Å—Ç–∏—Ç–µ–ª—å"},
                    "–±–∞–Ω–∞–Ω": {"–∫–∞–ª–æ—Ä–∏–∏": 89, "–±–µ–ª–∫–∏": 1.1, "–∂–∏—Ä—ã": 0.3, "—É–≥–ª–µ–≤–æ–¥—ã": 23, "–∫–ª–µ—Ç—á–∞—Ç–∫–∞": 2.6, "–æ–ø–∏—Å–∞–Ω–∏–µ": "–ë—ã—Å—Ç—Ä–∞—è —ç–Ω–µ—Ä–≥–∏—è, –±–æ–≥–∞—Ç –∫–∞–ª–∏–µ–º"}
                },
                "–±–µ–ª–∫–∏": {
                    "–∫—É—Ä–∏–Ω–∞—è_–≥—Ä—É–¥–∫–∞": {"–∫–∞–ª–æ—Ä–∏–∏": 165, "–±–µ–ª–∫–∏": 31, "–∂–∏—Ä—ã": 3.6, "—É–≥–ª–µ–≤–æ–¥—ã": 0, "–∫–ª–µ—Ç—á–∞—Ç–∫–∞": 0, "–æ–ø–∏—Å–∞–Ω–∏–µ": "–ü–æ—Å—Ç–Ω—ã–π –±–µ–ª–æ–∫, –∏–¥–µ–∞–ª–µ–Ω –¥–ª—è –ø–æ—Ö—É–¥–µ–Ω–∏—è"},
                    "—è–π—Ü–∞": {"–∫–∞–ª–æ—Ä–∏–∏": 155, "–±–µ–ª–∫–∏": 13, "–∂–∏—Ä—ã": 11, "—É–≥–ª–µ–≤–æ–¥—ã": 1.1, "–∫–ª–µ—Ç—á–∞—Ç–∫–∞": 0, "–æ–ø–∏—Å–∞–Ω–∏–µ": "–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –±–µ–ª–æ–∫, –≤–∏—Ç–∞–º–∏–Ω—ã"},
                    "—Ç–≤–æ—Ä–æ–≥": {"–∫–∞–ª–æ—Ä–∏–∏": 98, "–±–µ–ª–∫–∏": 11, "–∂–∏—Ä—ã": 4.3, "—É–≥–ª–µ–≤–æ–¥—ã": 3.4, "–∫–ª–µ—Ç—á–∞—Ç–∫–∞": 0, "–æ–ø–∏—Å–∞–Ω–∏–µ": "–ö–∞–∑–µ–∏–Ω, –º–µ–¥–ª–µ–Ω–Ω–æ–µ —É—Å–≤–æ–µ–Ω–∏–µ"}
                },
                "–Ω–µ–Ω–∞—Å—ã—â–µ–Ω–Ω—ã–µ_–∂–∏—Ä—ã": {
                    "–∞–≤–æ–∫–∞–¥–æ": {"–∫–∞–ª–æ—Ä–∏–∏": 160, "–±–µ–ª–∫–∏": 2, "–∂–∏—Ä—ã": 15, "—É–≥–ª–µ–≤–æ–¥—ã": 9, "–∫–ª–µ—Ç—á–∞—Ç–∫–∞": 7, "–æ–ø–∏—Å–∞–Ω–∏–µ": "–ü–æ–ª–µ–∑–Ω—ã–µ –∂–∏—Ä—ã, –º–Ω–æ–≥–æ –∫–ª–µ—Ç—á–∞—Ç–∫–∏"},
                    "–æ—Ä–µ—Ö–∏_–≥—Ä–µ—Ü–∫–∏–µ": {"–∫–∞–ª–æ—Ä–∏–∏": 654, "–±–µ–ª–∫–∏": 15, "–∂–∏—Ä—ã": 65, "—É–≥–ª–µ–≤–æ–¥—ã": 14, "–∫–ª–µ—Ç—á–∞—Ç–∫–∞": 7, "–æ–ø–∏—Å–∞–Ω–∏–µ": "–û–º–µ–≥–∞-3, –±–µ–ª–æ–∫"}
                },
                "–Ω–∞—Å—ã—â–µ–Ω–Ω—ã–µ_–∂–∏—Ä—ã": {
                    "—Å—ã—Ä": {"–∫–∞–ª–æ—Ä–∏–∏": 402, "–±–µ–ª–∫–∏": 25, "–∂–∏—Ä—ã": 33, "—É–≥–ª–µ–≤–æ–¥—ã": 1.3, "–∫–ª–µ—Ç—á–∞—Ç–∫–∞": 0, "–æ–ø–∏—Å–∞–Ω–∏–µ": "–ö–∞–ª—å—Ü–∏–π, –±–µ–ª–æ–∫"}
                },
                "–∫–ª–µ—Ç—á–∞—Ç–∫–∞": {
                    "–±—Ä–æ–∫–∫–æ–ª–∏": {"–∫–∞–ª–æ—Ä–∏–∏": 34, "–±–µ–ª–∫–∏": 2.8, "–∂–∏—Ä—ã": 0.4, "—É–≥–ª–µ–≤–æ–¥—ã": 7, "–∫–ª–µ—Ç—á–∞—Ç–∫–∞": 2.6, "–æ–ø–∏—Å–∞–Ω–∏–µ": "–í–∏—Ç–∞–º–∏–Ω C, –∞–Ω—Ç–∏–æ–∫—Å–∏–¥–∞–Ω—Ç—ã"},
                    "—à–ø–∏–Ω–∞—Ç": {"–∫–∞–ª–æ—Ä–∏–∏": 23, "–±–µ–ª–∫–∏": 2.9, "–∂–∏—Ä—ã": 0.4, "—É–≥–ª–µ–≤–æ–¥—ã": 3.6, "–∫–ª–µ—Ç—á–∞—Ç–∫–∞": 2.2, "–æ–ø–∏—Å–∞–Ω–∏–µ": "–ñ–µ–ª–µ–∑–æ, –≤–∏—Ç–∞–º–∏–Ω—ã"}
                }
            },
            "–Ω–∞–±–æ—Ä_–º–∞—Å—Å—ã": {
                "—Å–ª–æ–∂–Ω—ã–µ_—É–≥–ª–µ–≤–æ–¥—ã": {
                    "—Ä–∏—Å_–±–µ–ª—ã–π": {"–∫–∞–ª–æ—Ä–∏–∏": 130, "–±–µ–ª–∫–∏": 2.7, "–∂–∏—Ä—ã": 0.3, "—É–≥–ª–µ–≤–æ–¥—ã": 28, "–∫–ª–µ—Ç—á–∞—Ç–∫–∞": 0.4, "–æ–ø–∏—Å–∞–Ω–∏–µ": "–ë—ã—Å—Ç—Ä—ã–µ —É–≥–ª–µ–≤–æ–¥—ã –¥–ª—è –º–∞—Å—Å—ã"},
                    "–º–∞–∫–∞—Ä–æ–Ω—ã": {"–∫–∞–ª–æ—Ä–∏–∏": 131, "–±–µ–ª–∫–∏": 5, "–∂–∏—Ä—ã": 1.1, "—É–≥–ª–µ–≤–æ–¥—ã": 25, "–∫–ª–µ—Ç—á–∞—Ç–∫–∞": 1.8, "–æ–ø–∏—Å–∞–Ω–∏–µ": "–≠–Ω–µ—Ä–≥–∏—è –¥–ª—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫"}
                },
                "–±–µ–ª–∫–∏": {
                    "–≥–æ–≤—è–¥–∏–Ω–∞": {"–∫–∞–ª–æ—Ä–∏–∏": 250, "–±–µ–ª–∫–∏": 26, "–∂–∏—Ä—ã": 15, "—É–≥–ª–µ–≤–æ–¥—ã": 0, "–∫–ª–µ—Ç—á–∞—Ç–∫–∞": 0, "–æ–ø–∏—Å–∞–Ω–∏–µ": "–ö—Ä–µ–∞—Ç–∏–Ω, –∂–µ–ª–µ–∑–æ"},
                    "–ª–æ—Å–æ—Å—å": {"–∫–∞–ª–æ—Ä–∏–∏": 208, "–±–µ–ª–∫–∏": 25, "–∂–∏—Ä—ã": 12, "—É–≥–ª–µ–≤–æ–¥—ã": 0, "–∫–ª–µ—Ç—á–∞—Ç–∫–∞": 0, "–æ–ø–∏—Å–∞–Ω–∏–µ": "–û–º–µ–≥–∞-3, –±–µ–ª–æ–∫"}
                },
                "–Ω–µ–Ω–∞—Å—ã—â–µ–Ω–Ω—ã–µ_–∂–∏—Ä—ã": {
                    "–º–∏–Ω–¥–∞–ª—å": {"–∫–∞–ª–æ—Ä–∏–∏": 579, "–±–µ–ª–∫–∏": 21, "–∂–∏—Ä—ã": 50, "—É–≥–ª–µ–≤–æ–¥—ã": 22, "–∫–ª–µ—Ç—á–∞—Ç–∫–∞": 12, "–æ–ø–∏—Å–∞–Ω–∏–µ": "–ë–µ–ª–æ–∫, –≤–∏—Ç–∞–º–∏–Ω E"}
                }
            },
            "–ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–µ": {
                "—Å–ª–æ–∂–Ω—ã–µ_—É–≥–ª–µ–≤–æ–¥—ã": {
                    "–æ–≤—Å—è–Ω–∫–∞": {"–∫–∞–ª–æ—Ä–∏–∏": 389, "–±–µ–ª–∫–∏": 16.9, "–∂–∏—Ä—ã": 6.9, "—É–≥–ª–µ–≤–æ–¥—ã": 66, "–∫–ª–µ—Ç—á–∞—Ç–∫–∞": 10.6, "–æ–ø–∏—Å–∞–Ω–∏–µ": "–°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∑–∞–≤—Ç—Ä–∞–∫"},
                    "–≥—Ä–µ—á–∫–∞": {"–∫–∞–ª–æ—Ä–∏–∏": 343, "–±–µ–ª–∫–∏": 13, "–∂–∏—Ä—ã": 3.4, "—É–≥–ª–µ–≤–æ–¥—ã": 72, "–∫–ª–µ—Ç—á–∞—Ç–∫–∞": 10, "–æ–ø–∏—Å–∞–Ω–∏–µ": "–ü–∏—Ç–∞—Ç–µ–ª—å–Ω–∞—è –∫—Ä—É–ø–∞"}
                },
                "–±–µ–ª–∫–∏": {
                    "–∫—É—Ä–∏–Ω–∞—è_–≥—Ä—É–¥–∫–∞": {"–∫–∞–ª–æ—Ä–∏–∏": 165, "–±–µ–ª–∫–∏": 31, "–∂–∏—Ä—ã": 3.6, "—É–≥–ª–µ–≤–æ–¥—ã": 0, "–∫–ª–µ—Ç—á–∞—Ç–∫–∞": 0, "–æ–ø–∏—Å–∞–Ω–∏–µ": "–ü–æ—Å—Ç–Ω—ã–π –±–µ–ª–æ–∫"},
                    "—è–π—Ü–∞": {"–∫–∞–ª–æ—Ä–∏–∏": 155, "–±–µ–ª–∫–∏": 13, "–∂–∏—Ä—ã": 11, "—É–≥–ª–µ–≤–æ–¥—ã": 1.1, "–∫–ª–µ—Ç—á–∞—Ç–∫–∞": 0, "–æ–ø–∏—Å–∞–Ω–∏–µ": "–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –±–µ–ª–æ–∫"}
                },
                "–Ω–µ–Ω–∞—Å—ã—â–µ–Ω–Ω—ã–µ_–∂–∏—Ä—ã": {
                    "–∞–≤–æ–∫–∞–¥–æ": {"–∫–∞–ª–æ—Ä–∏–∏": 160, "–±–µ–ª–∫–∏": 2, "–∂–∏—Ä—ã": 15, "—É–≥–ª–µ–≤–æ–¥—ã": 9, "–∫–ª–µ—Ç—á–∞—Ç–∫–∞": 7, "–æ–ø–∏—Å–∞–Ω–∏–µ": "–ü–æ–ª–µ–∑–Ω—ã–µ –∂–∏—Ä—ã"}
                }
            }
        };

        let currentGoal = '–ø–æ—Ö—É–¥–µ–Ω–∏–µ';
        let currentCategory = null;

        // –≠–ª–µ–º–µ–Ω—Ç—ã DOM
        const categoriesEl = document.getElementById('categories');
        const productsContainerEl = document.getElementById('productsContainer');
        const backBtnEl = document.getElementById('backBtn');
        const searchInputEl = document.getElementById('searchInput');
        const goalBtns = document.querySelectorAll('.goal-btn');

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
        goalBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                goalBtns.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                currentGoal = btn.dataset.goal;
                showCategories();
            });
        });

        categoriesEl.addEventListener('click', (e) => {
            if (e.target.classList.contains('category-btn')) {
                const category = e.target.dataset.category;
                showProducts(category);
            }
        });

        backBtnEl.addEventListener('click', showCategories);

        searchInputEl.addEventListener('input', (e) => {
            const query = e.target.value.toLowerCase();
            if (query.length > 2) {
                searchProducts(query);
            } else if (currentCategory) {
                showProducts(currentCategory);
            } else {
                showCategories();
            }
        });

        // –§—É–Ω–∫—Ü–∏–∏
        function showCategories() {
            currentCategory = null;
            categoriesEl.style.display = 'grid';
            productsContainerEl.style.display = 'none';
            backBtnEl.style.display = 'none';
            searchInputEl.value = '';
        }

        function showProducts(category) {
            currentCategory = category;
            categoriesEl.style.display = 'none';
            productsContainerEl.style.display = 'block';
            backBtnEl.style.display = 'block';

            const products = productsDatabase[currentGoal][category];
            if (!products) {
                productsContainerEl.innerHTML = '<div class="error">–ü—Ä–æ–¥—É–∫—Ç—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</div>';
                return;
            }

            let html = '';
            Object.entries(products).forEach(([name, data]) => {
                html += `
                    <div class="product-card" onclick="showProductDetails('${name}', '${category}')">
                        <div class="product-name">${name.replace('_', ' ').toUpperCase()}</div>
                        <div class="product-info">
                            <div class="info-item">
                                <div class="info-label">–ö–∞–ª–æ—Ä–∏–∏</div>
                                <div class="info-value">${data.–∫–∞–ª–æ—Ä–∏–∏}</div>
                            </div>
                            <div class="info-item">
                                <div class="info-label">–ë–µ–ª–∫–∏</div>
                                <div class="info-value">${data.–±–µ–ª–∫–∏}g</div>
                            </div>
                            <div class="info-item">
                                <div class="info-label">–ñ–∏—Ä—ã</div>
                                <div class="info-value">${data.–∂–∏—Ä—ã}g</div>
                            </div>
                            <div class="info-item">
                                <div class="info-label">–£–≥–ª–µ–≤–æ–¥—ã</div>
                                <div class="info-value">${data.—É–≥–ª–µ–≤–æ–¥—ã}g</div>
                            </div>
                        </div>
                    </div>
                `;
            });

            productsContainerEl.innerHTML = html;
        }

        function searchProducts(query) {
            categoriesEl.style.display = 'none';
            productsContainerEl.style.display = 'block';
            backBtnEl.style.display = 'block';

            let results = [];
            Object.entries(productsDatabase[currentGoal]).forEach(([category, products]) => {
                Object.entries(products).forEach(([name, data]) => {
                    if (name.toLowerCase().includes(query)) {
                        results.push({ name, data, category });
                    }
                });
            });

            if (results.length === 0) {
                productsContainerEl.innerHTML = '<div class="error">–ü—Ä–æ–¥—É–∫—Ç—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</div>';
                return;
            }

            let html = '';
            results.forEach(({ name, data, category }) => {
                html += `
                    <div class="product-card" onclick="showProductDetails('${name}', '${category}')">
                        <div class="product-name">${name.replace('_', ' ').toUpperCase()}</div>
                        <div class="product-info">
                            <div class="info-item">
                                <div class="info-label">–ö–∞–ª–æ—Ä–∏–∏</div>
                                <div class="info-value">${data.–∫–∞–ª–æ—Ä–∏–∏}</div>
                            </div>
                            <div class="info-item">
                                <div class="info-label">–ë–µ–ª–∫–∏</div>
                                <div class="info-value">${data.–±–µ–ª–∫–∏}g</div>
                            </div>
                            <div class="info-item">
                                <div class="info-label">–ñ–∏—Ä—ã</div>
                                <div class="info-value">${data.–∂–∏—Ä—ã}g</div>
                            </div>
                            <div class="info-item">
                                <div class="info-label">–£–≥–ª–µ–≤–æ–¥—ã</div>
                                <div class="info-value">${data.—É–≥–ª–µ–≤–æ–¥—ã}g</div>
                            </div>
                        </div>
                    </div>
                `;
            });

            productsContainerEl.innerHTML = html;
        }

        function showProductDetails(name, category) {
            const product = productsDatabase[currentGoal][category][name];
            if (!product) return;

            const details = `
                üçé ${name.replace('_', ' ').toUpperCase()}
                
                üìä –ü–∏—â–µ–≤–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å –Ω–∞ 100–≥:
                ‚Ä¢ –ö–∞–ª–æ—Ä–∏–∏: ${product.–∫–∞–ª–æ—Ä–∏–∏} –∫–∫–∞–ª
                ‚Ä¢ –ë–µ–ª–∫–∏: ${product.–±–µ–ª–∫–∏}g
                ‚Ä¢ –ñ–∏—Ä—ã: ${product.–∂–∏—Ä—ã}g
                ‚Ä¢ –£–≥–ª–µ–≤–æ–¥—ã: ${product.—É–≥–ª–µ–≤–æ–¥—ã}g
                ‚Ä¢ –ö–ª–µ—Ç—á–∞—Ç–∫–∞: ${product.–∫–ª–µ—Ç—á–∞—Ç–∫–∞}g
                
                üí° ${product.–æ–ø–∏—Å–∞–Ω–∏–µ}
                
                üéØ –¶–µ–ª—å: ${currentGoal.replace('_', ' ')}
                üìÇ –ö–∞—Ç–µ–≥–æ—Ä–∏—è: ${category.replace('_', ' ')}
            `;

            // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –≤ Telegram
            tg.sendData(JSON.stringify({
                action: 'product_details',
                name: name,
                category: category,
                goal: currentGoal,
                details: details
            }));
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        showCategories();
    </script>
</body>
</html> 